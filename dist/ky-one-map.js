!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("kyOneMap",[],t):"object"==typeof exports?exports.kyOneMap=t():e.kyOneMap=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=2)}([function(e,t,r){"use strict";t.a={url:"http://118.89.18.66/arcgis/arcgis_js_v417_api/arcgis_js_api/library/4.17/init.js",css:"http://118.89.18.66/arcgis/arcgis_js_v417_api/arcgis_js_api/library/4.17/esri/css/main.css",dojoConfig:{async:!1},tdtToken:"5630174b76350ef58bc5a615a890a46a",imgAnnoTdtUrl:"http://{subDomain}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetTile&LAYER=cia&STYLE=default&FORMAT=tiles&TILEMATRIXSET=w&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}&tk="+this.tdtToken,imgTdtUrl:"http://{subDomain}.tianditu.gov.cn/img_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}&tk="+this.tdtToken,vecTdtUrl:"http://{subDomain}.tianditu.gov.cn/vec_c/wmts?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetTile&LAYER=vec&STYLE=default&FORMAT=tiles&TILEMATRIXSET=c&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}&tk="+this.tdtToken,terTdtUrl:"http://{subDomain}.tianditu.gov.cn/ter_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=ter&STYLE=default&TILEMATRIXSET=c&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}&FORMAT=tiles&tk="+this.tdtToken}},function(e,t,r){!function(e,r){r(t)}(0,function(e){"use strict";function t(e){if(e.toLowerCase()===b)return b;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function r(e){return void 0===e&&(e=E),"https://js.arcgis.com/"+e+"/"}function n(e){void 0===e&&(e=E);var n=r(e),o=t(e);if(o!==b&&3===o.major){return""+n+(o.minor<=10?"js/":"")+"esri/css/esri.css"}return n+"esri/themes/light/main.css"}function o(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function i(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function a(e){return document.querySelector('link[href*="'+e+'"]')}function u(e){return!e||t(e)?n(e):e}function l(e,t){var r=u(e),n=a(r);return n||(n=o(r),i(n,t)),n}function s(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function c(e,t,r){var n;r&&(n=f(e,r));var o=function(){t(e),e.removeEventListener("load",o,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",o,!1)}function f(e,t){var r=function(n){t(n.error||new Error("There was an error attempting to load "+e.src)),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function v(e){void 0===e&&(e={}),g=e}function d(){return document.querySelector("script[data-esri-loader]")}function p(){var e=window.require;return e&&e.on}function m(e){void 0===e&&(e={});var t={};[g,e].forEach(function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])});var n=t.version,o=t.url||r(n);return new w.Promise(function(e,r){var i=d();if(i){var a=i.getAttribute("src");a!==o?r(new Error("The ArcGIS API for JavaScript is already loaded ("+a+").")):p()?e(i):c(i,e,r)}else if(p())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var u=t.css;if(u){var f=!0===u;l(f?n:u,t.insertCssBefore)}i=s(o),c(i,function(){i.setAttribute("data-esri-loader","loaded"),e(i)},r),document.body.appendChild(i)}})}function T(e){return new w.Promise(function(t,r){var n=window.require.on("error",r);window.require(e,function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.remove(),t(e)})})}function h(e,t){if(void 0===t&&(t={}),p())return T(e);var r=d(),n=r&&r.getAttribute("src");return!t.url&&n&&(t.url=n),m(t).then(function(){return T(e)})}var y="undefined"!=typeof window,w={Promise:y?window.Promise:void 0},E="4.18",b="next",g={};e.utils=w,e.loadModules=h,e.getScript=d,e.isLoaded=p,e.loadScript=m,e.setDefaultOptions=v,e.loadCss=l,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(r(3),r(4)),o=r(5),i=this;t.default={mapView:"",map:"",createMapView:function(e){var t=i;Object(n.a)(e).then(function(e){t.default.mapView=e.mapView,t.default.map=e.map})},addLayer:function(e){var t=this;Object(o.a)(e).then(function(e){console.log(e),setTimeout(function(){console.log(t.map),t.map.add(e,0)},3e3)})}}},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}var o=r(0),i=r(1),a=(r.n(i),this),u=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.loadModules)(["esri/Map"],{url:o.a.url,css:o.a.css,dojoConfig:o.a.dojoConfig},{css:!0});case 2:return r=e.sent,n=u(r,1),l=n[0],e.abrupt("return",new l);case 6:case"end":return e.stop()}},e,a)}))}()},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}var o=r(0),i=r(1),a=(r.n(i),this),u=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.a=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n,l,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.loadModules)(["esri/Map","esri/views/MapView"],{url:o.a.url,css:o.a.css,dojoConfig:o.a.dojoConfig},{css:!0});case 2:return r=e.sent,n=u(r,2),l=n[0],s=n[1],c=new l,e.abrupt("return",{mapView:new s(Object.assign({container:t.el,map:c},t)),map:c});case 8:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}var o=r(0),i=r(1),a=(r.n(i),this),u=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.a=function(){var e=n(regeneratorRuntime.mark(function e(t){var r,n,l,s,c,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.loadModules)(["esri/layers/WebTileLayer","esri/layers/support/TileInfo"],{url:o.a.url,css:o.a.css,dojoConfig:o.a.dojoConfig},{css:!0});case 2:return r=e.sent,n=u(r,2),l=n[0],s=n[1],c=function(){return new s({dpi:90.71428571428571,rows:256,cols:256,compressionQuality:0,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:[{level:0,levelValue:1,resolution:.703125,scale:295829355.454566},{level:1,levelValue:2,resolution:.3515625,scale:147914677.727283},{level:2,levelValue:3,resolution:.17578125,scale:73957338.863641},{level:3,levelValue:4,resolution:.087890625,scale:36978669.431821},{level:4,levelValue:5,resolution:.0439453125,scale:18489334.71591},{level:5,levelValue:6,resolution:.02197265625,scale:9244667.357955},{level:6,levelValue:7,resolution:.010986328125,scale:4622333.678978},{level:7,levelValue:8,resolution:.0054931640625,scale:2311166.839489},{level:8,levelValue:9,resolution:.00274658203125,scale:1155583.419744},{level:9,levelValue:10,resolution:.001373291015625,scale:577791.709872},{level:10,levelValue:11,resolution:.0006866455078125,scale:288895.854936},{level:11,levelValue:12,resolution:.00034332275390625,scale:144447.927468},{level:12,levelValue:13,resolution:.000171661376953125,scale:72223.963734},{level:13,levelValue:14,resolution:858306884765625e-19,scale:36111.981867},{level:14,levelValue:15,resolution:4291534423828125e-20,scale:18055.990934},{level:15,levelValue:16,resolution:21457672119140625e-21,scale:9027.995467},{level:16,levelValue:17,resolution:10728836059570312e-21,scale:4513.997733},{level:17,levelValue:18,resolution:5364418029785156e-21,scale:2256.998867},{level:18,levelValue:19,resolution:2682209014892578e-21,scale:1128.499433}]})},f=new l({id:"TdtImg",urlTemplate:o.a.imgTdtUrl,subDomains:["t0","t1","t2","t3","t4","t5","t6","t7"],spatialReference:4326,tileInfo:c()}),e.abrupt("return",f);case 9:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()}])});
//# sourceMappingURL=ky-one-map.js.map