{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4cccc7496a07a70357d2","webpack:///ky-one-map.js","webpack:///src/lib/ky-one-map.vue","webpack:///./src/lib/index.js","webpack:///./src/lib/ky-one-map.vue","webpack:///./src/lib/ky-one-map.vue?239b","webpack:///./src/lib/ky-one-map.vue?1c3a","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/vue-style-loader/lib/addStylesClient.js","webpack:///./node_modules/vue-style-loader/lib/listToStyles.js","webpack:///./node_modules/vue-loader/lib/component-normalizer.js","webpack:///./node_modules/esri-loader/dist/umd/esri-loader.js","webpack:///./src/lib/ky-one-map.vue?144a"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_esri_loader__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","Array","isArray","TypeError","data","map","mapView","oneMap","clickMap","Map","mouseoverMap","varSetTimeout","created","_that","url","css","mounted","beforeUnmount","view","destroy","install","Vue","options","component","kyOneMap","window","use","injectStyle","ssrContext","normalizeComponent","__vue_styles__","Component","content","locals","cssWithMappingToString","item","useSourceMap","cssMapping","btoa","sourceMapping","toComment","concat","sources","source","sourceRoot","join","sourceMap","unescape","encodeURIComponent","JSON","stringify","list","toString","mediaQuery","alreadyImportedModules","id","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","createStyleElement","styleElement","document","createElement","type","head","appendChild","obj","update","remove","querySelector","ssrIdKey","isProduction","noop","parentNode","removeChild","isOldIE","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","applyToTag","newObj","media","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","firstChild","hasDocument","DEBUG","Error","listToStyles","getElementsByTagName","navigator","test","userAgent","toLowerCase","parentId","_isProduction","_options","newList","mayRemove","textStore","replacement","filter","Boolean","newStyles","part","rawScriptExports","compiledTemplate","functionalTemplate","injectStyles","scopeId","moduleIdentifier","esModule","scriptExports","default","render","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","existing","beforeCreate","_injectStyles","h","global","parseVersion","version","NEXT","match","major","parseInt","minor","getCdnUrl","DEFAULT_VERSION","getCdnCssUrl","baseUrl","parsedVersion","createStylesheetLink","href","link","rel","insertLink","before","beforeNode","getCss","getCssUrl","urlOrVersion","loadCss","createScript","script","src","handleScriptLoad","callback","errback","onScriptError","handleScriptError","onScriptLoad","removeEventListener","addEventListener","e","error","setDefaultOptions","defaultOptions","getScript","isLoaded","globalRequire","on","loadScript","opts","forEach","prop","utils","Promise","resolve","reject","getAttribute","useVersion","insertCssBefore","body","requireModules","errorHandler","args","arguments","loadModules","loadScriptOptions","then","isBrowser","_vm","_h","$createElement","_self","_c","attrs","esExports"],"mappings":"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","file":"ky-one-map.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"kyOneMap\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kyOneMap\"] = factory();\n\telse\n\t\troot[\"kyOneMap\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4cccc7496a07a70357d2","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"kyOneMap\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kyOneMap\"] = factory();\n\telse\n\t\troot[\"kyOneMap\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_esri_loader__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_esri_loader___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_esri_loader__);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"ky-map\",\n  data: function data() {\n    return {\n      map: {},\n      mapView: {},\n      oneMap: {},\n      clickMap: new Map(),\n      mouseoverMap: new Map(),\n      varSetTimeout: \"\"\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    var _that = this;\n    var options = {\n      url: \"http://118.89.18.66/arcgis/arcgis_js_v417_api/arcgis_js_api/library/4.17/init.js\",\n      css: \"http://118.89.18.66/arcgis/arcgis_js_v417_api/arcgis_js_api/library/4.17/esri/css/main.css\"\n    };\n    Object(__WEBPACK_IMPORTED_MODULE_0_esri_loader__[\"loadModules\"])([\"esri/Map\", \"esri/views/MapView\", \"esri/layers/WebTileLayer\", \"esri/layers/FeatureLayer\", \"esri/layers/TileLayer\", \"esri/layers/MapImageLayer\", \"esri/layers/VectorTileLayer\", \"esri/layers/GeoJSONLayer\", \"esri/layers/GraphicsLayer\", \"esri/Graphic\", \"esri/geometry/Point\", \"esri/symbols/PictureMarkerSymbol\", \"esri/symbols/TextSymbol\", \"esri/tasks/IdentifyTask\", \"esri/tasks/support/IdentifyParameters\", \"esri/geometry/geometryEngine\", \"esri/tasks/support/Query\"], options, {\n      css: true\n    }).then(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 17),\n          esriMap = _ref2[0],\n          MapView = _ref2[1],\n          WebTileLayer = _ref2[2],\n          FeatureLayer = _ref2[3],\n          TileLayer = _ref2[4],\n          MapImageLayer = _ref2[5],\n          VectorTileLayer = _ref2[6],\n          GeoJSONLayer = _ref2[7],\n          GraphicsLayer = _ref2[8],\n          Graphic = _ref2[9],\n          Point = _ref2[10],\n          PictureMarkerSymbol = _ref2[11],\n          TextSymbol = _ref2[12],\n          IdentifyTask = _ref2[13],\n          IdentifyParameters = _ref2[14],\n          geometryEngine = _ref2[15],\n          Query = _ref2[16];\n\n      var tiandituBaseUrl = \"http://{subDomain}.tianditu.gov.cn\"; //天地图服务地址\n      var token = \"5630174b76350ef58bc5a615a890a46a\"; //天地图token\n      _that.map = new esriMap({});\n      _that.mapView = new MapView({\n        container: _this.$el,\n        map: _that.map,\n        center: [117.938, 26.127],\n        zoom: 8\n      });\n      //影像地图(球面墨卡托投影)\n      var tiledLayer = new WebTileLayer({\n        urlTemplate: tiandituBaseUrl + \"/img_w/wmts?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetTile&LAYER=img&STYLE=default&FORMAT=tiles&TILEMATRIXSET=w&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}&tk=\" + token,\n        subDomains: [\"t0\", \"t1\", \"t2\", \"t3\", \"t4\", \"t5\", \"t6\", \"t7\"]\n      });\n      //影像注记(球面墨卡托投影)\n      var tiledLayerAnno = new WebTileLayer({\n        urlTemplate: tiandituBaseUrl + \"/cia_w/wmts?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetTile&LAYER=cia&STYLE=default&FORMAT=tiles&TILEMATRIXSET=w&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}&tk=\" + token,\n        subDomains: [\"t0\", \"t1\", \"t2\", \"t3\", \"t4\", \"t5\", \"t6\", \"t7\"]\n      });\n      var cityBoundry = new MapImageLayer({\n        url: \"http://120.79.6.214:6080/arcgis/rest/services/SXYfjxzjx/MapServer\",\n        sublayers: [{\n          id: 3,\n          visible: false\n        }, {\n          id: 2,\n          visible: true\n        }, {\n          id: 1,\n          visible: false\n        }, {\n          id: 0,\n          visible: false\n        }, {\n          id: 4,\n          visible: false\n        }]\n      });\n\n      _that.oneMap = {\n        zoom: \"7\",\n        addLayer: function addLayer(layerType, options) {\n          options = Object.assign({\n            url: \"\",\n            opacity: 1,\n            id: Math.random().toString(36).substr(4),\n            outFields: [\"*\"]\n          }, options || {});\n          return this.addLayerMethod.get(layerType)(options);\n        },\n        removeLayer: function removeLayer(layerId) {\n          var layer = _that.map.findLayerById(layerId);\n          if (_that.clickMap.has(layerId)) {\n            _that.clickMap.delete(layerId);\n          }\n          if (_that.mouseoverMap.has(layerId)) {\n            _that.mouseoverMap.delete(layerId);\n          }\n          _that.map.remove(layer);\n        },\n\n        addLayerMethod: new Map([[\"MapImageLayer\", function (options) {\n          var layer = new MapImageLayer(options);\n\n          options.layerIndex ? _that.map.add(layer, options.layerIndex) : _that.map.add(layer);\n          if (options.onClick && typeof options.onClick == \"function\") {}\n          if (options.onMouseover && typeof options.onMouseover == \"function\") {\n            _that.mouseoverMap.set(options.id, options.onMouseover);\n          }\n          if (options.toFullExtent) {\n            layer.when(function () {\n              layer.fullExtent.spatialReference = {\n                wkid: 4326\n              };\n              _that.mapview.goTo(layer.fullExtent.expand(1.7));\n            });\n          }\n          return layer;\n        }], [\"FeatureLayer\", function (options) {\n          var layer = new FeatureLayer(options);\n          options.layerIndex ? _that.map.add(layer, options.layerIndex) : _that.map.add(layer);\n          if (options.onClick && typeof options.onClick == \"function\") {\n            _that.clickMap.set(options.id, options.onClick);\n          }\n          if (options.onMouseover && typeof options.onMouseover == \"function\") {\n            _that.mouseoverMap.set(options.id, options.onMouseover);\n          }\n          return layer;\n        }], [\"PointLayer\", function (options) {\n          var layer = new GraphicsLayer({\n            opacity: 1,\n            id: options.id\n          });\n          var defaultLonField = options.lonField ? options.lonField : \"lon\",\n              defaultLatField = options.latField ? options.latField : \"lat\";\n          for (var i = 0; i < options.data.length; i++) {\n            var point = new Point({\n              spatialReference: 4326,\n              x: options.data[i][defaultLonField],\n              y: options.data[i][defaultLatField]\n            });\n            var symbol = {\n              type: \"simple-marker\",\n              color: [226, 119, 40],\n              outline: {\n                color: [255, 255, 255],\n                width: 2\n              }\n            };\n            if (options.data[i].symbol) {\n              symbol = _that.oneMap.symbol(options.data[i].symbol);\n            } else if (options.symbol) {\n              symbol = _that.oneMap.symbol(options.symbol);\n            }\n            if (options.data[i].label) {\n              var textPoint = new Point({\n                spatialReference: 4326,\n                x: options.data[i][defaultLonField],\n                y: options.data[i][defaultLatField]\n              });\n              var textSymbol = _that.oneMap.symbol(options.data[i].label);\n              var textGraphic = new Graphic(textPoint, textSymbol);\n              layer.add(textGraphic);\n            }\n            var graphic = new Graphic(point, symbol, options.data[i]);\n\n            layer.add(graphic);\n          }\n          options.layerIndex ? _that.map.add(layer, options.layerIndex) : _that.map.add(layer);\n          if (options.onClick && typeof options.onClick == \"function\") {\n            _that.clickMap.set(options.id, options.onClick);\n          }\n          if (options.onMouseover && typeof options.onMouseover == \"function\") {\n            _that.mouseoverMap.set(options.id, options.onMouseover);\n          }\n\n          return layer;\n        }], [\"simplePointLayer\", function (options) {\n          var point = new Point({\n            spatialReference: 4326,\n            x: options.lon,\n            y: options.lat\n          });\n\n          return point;\n        }], [\"VectorTileLayer\", function (options) {\n          var layer = new VectorTileLayer(options);\n          options.layerIndex ? _that.map.add(layer, options.layerIndex) : _that.map.add(layer);\n          return layer;\n        }]]),\n        symbol: function symbol(options) {\n          return this.symbolMethod.get(options.type)(options);\n        },\n\n        symbolMethod: new Map([[\"PictureMarkerSymbol\", function (options) {\n          return {\n            type: \"picture-marker\",\n            url: options.url,\n            width: options.width,\n            height: options.height\n          };\n          return new PictureMarkerSymbol(options.url, options.width, options.height);\n        }], [\"TextSymbol\", function (options) {\n          return {\n            type: \"text\", // autocasts as new TextSymbol()\n            color: \"#000\",\n            haloColor: \"#fff\",\n            haloSize: \"2px\",\n            text: options.text,\n            xoffset: options.offsetX ? options.offsetX : 3,\n            yoffset: options.offsetY ? options.offsetY : -20,\n            font: {\n              // autocasts as new Font()\n              size: options.fontSize ? options.fontSize : 10,\n              family: \"Josefin Slab\",\n              weight: \"bold\"\n            }\n          };\n          return new PictureMarkerSymbol(options.url, options.width, options.height);\n        }], [\"SimpleMarkerSymbol\", function () {\n          return {\n            type: \"simple\",\n            symbol: {\n              type: \"simple-marker\",\n              size: 3,\n              color: \"white\",\n              style: \"circle\",\n              outline: {\n                width: 0.5,\n                color: \"gray\"\n              }\n            }\n          };\n        }], [\"SimpleFillSymbol\", function () {\n          return {\n            type: \"simple\",\n            symbol: {\n              type: \"simple-fill\",\n              style: \"none\",\n              outline: {\n                width: 0.5,\n                color: \"gray\"\n              }\n            }\n          };\n        }], [\"SimpleLineSymbol\", function () {\n          return {\n            type: \"simple\",\n            symbol: {\n              type: \"simple-line\",\n              style: \"none\",\n              width: 0.7,\n              color: \"white\"\n            }\n          };\n        }], [\"FeatureLayerPictureMarkerSymbol\", function (options) {\n          return {\n            type: \"simple\",\n            symbol: {\n              type: \"picture-marker\",\n              url: options.url,\n              width: options.width,\n              height: options.height\n            }\n          };\n        }]]),\n        IdentifyTaskQuery: function IdentifyTaskQuery(options, callback) {\n          var identifyTask = new IdentifyTask(options.url);\n          var params = new IdentifyParameters();\n          params.tolerance = 3;\n          params.returnGeometry = true;\n          params.layerIds = options.layerIds;\n          params.layerOption = \"top\";\n          params.width = _that.mapView.width;\n          params.height = _that.mapView.height;\n          params.geometry = options.evt.mapPoint;\n          params.mapExtent = _that.mapView.extent;\n\n          identifyTask.execute(params).then(function (response) {\n            callback(response.results);\n          }).then(function () {});\n        },\n\n        /**根据经纬度生成缓冲区\r\n         *\r\n         * buffer(geometry, distance, unit, unionResults)\r\n         * \"meters\"|\"feet\"|\"kilometers\"|\"miles\"|\"nautical-miles\"|\"yards\"\r\n         * */\n        createBuffer: function createBuffer(options) {\n          var geometry = null;\n          var bufferGraphic = null;\n          var layer = new GraphicsLayer({\n            opacity: 1,\n            id: options.id ? options.id : Math.random().toString(36).substr(4)\n          });\n          if (options.geometryType == \"point\") {\n            geometry = new Point({\n              spatialReference: 4326,\n              x: options.data.longitude,\n              y: options.data.latitude\n            });\n          }\n\n          var buff = geometryEngine.geodesicBuffer(geometry, options.distance, options.unit);\n\n          bufferGraphic = new Graphic({\n            geometry: buff,\n            symbol: {\n              type: \"simple-fill\",\n              color: [226, 119, 40, 0.3],\n              outline: {\n                width: 1.5,\n                color: [255, 128, 0, 0.5]\n              }\n            }\n          });\n          layer.add(bufferGraphic);\n          map.add(layer);\n          map.reorder(layer, 1);\n          return layer;\n        },\n\n        //mapServer服务地址转换为FeatureServer\n        mapServerToFeatureServer: function mapServerToFeatureServer(url) {\n          var urlArr = url.split(\"/\");\n          urlArr.splice(urlArr.length - 1, 1);\n          urlArr.push(\"FeatureServer\", \"0\");\n          return urlArr.join(\"/\");\n        },\n\n        // MapServer转换为FeatureServer 查询定位extent\n        mapImageLayerToExtent: function mapImageLayerToExtent(url) {\n          var where = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"1=1\";\n\n          var joinUrl = this.mapServerToFeatureServer(url);\n          var tempLayer = new FeatureLayer({\n            url: joinUrl\n          });\n          var query = new Query();\n          query.where = where;\n          tempLayer.queryExtent(query).then(function (results) {\n            if (results.count == 0) return;\n            var tempExtent = results.extent;\n            tempExtent.spatialReference = {\n              wkid: 4326\n            };\n            _that.mapView.goTo(tempExtent.expand(1.7));\n          });\n        },\n\n        //根据经纬度以及zoom定位\n        mapToCenter: function mapToCenter(options) {\n          var point = new Point({\n            spatialReference: 4326,\n            x: options.x,\n            y: options.y\n          });\n          _that.mapView.goTo({\n            target: point,\n            zoom: options.zoom\n          }, {\n            duration: 700\n          });\n        },\n        setMapZoom: function setMapZoom(option) {\n          _that.mapView.goTo({\n            zoom: option.zoom\n          }, {\n            duration: 700\n          });\n          // _that.mapView.zoom = zoom;\n        }\n      };\n      _that.map.add(tiledLayer);\n      _that.map.add(tiledLayerAnno);\n      _that.map.add(cityBoundry);\n\n      _that.mapView.ui.components = [];\n      _that.$store.commit(\"SET_ONEMAP\", _that.oneMap);\n      _that.$store.commit(\"SET_MAP\", _that.map);\n      _that.$store.commit(\"SET_MAPVIEW\", _that.mapView);\n      _that.$emit(\"done\");\n\n      /**此方法只支持如下图层GraphicsLayer, FeatureLayer, SceneLayer,\r\n       * BuildingSceneLayer, PointCloudLayer, CSVLayer,\r\n       * StreamLayer, GeoJSONLayer and SceneView.graphics. **/\n      // _that.mapView.watch(\"zoom\", function () {\n      //   _that.oneMap.zoom = _that.mapView.zoom;\n      //   console.log(_that.mapView.zoom);\n      // });\n      _that.mapView.on(\"pointer-move\", function (evt) {\n        _that.mapView.hitTest(evt).then(function (event) {\n          if (event.results.length) {\n            var result = event.results[0];\n            if (typeof _that.mouseoverMap.get(result.graphic.layer.id) != \"undefined\") {\n              _that.mouseoverMap.get(result.graphic.layer.id)(result);\n            }\n          }\n        });\n      });\n\n      _that.mapView.on(\"click\", function (evt) {\n        _that.mapView.hitTest(evt).then(function (event) {\n          if (event.results.length) {\n            var result = event.results[0];\n            if (typeof _that.clickMap.get(result.graphic.layer.id) != \"undefined\") {\n              _that.clickMap.get(result.graphic.layer.id)(result);\n            }\n          }\n        });\n      });\n\n      _that.mapView.watch(\"extent\", function (evt) {\n        _that.mapView.center.longitude;\n        _that.mapView.center.latitude;\n        console.log(_that.mapView.center.longitude);\n        console.log(_that.mapView.center.latitude);\n      });\n    });\n  },\n  mounted: function mounted() {},\n  beforeUnmount: function beforeUnmount() {\n    if (this.view) {\n      this.view.destroy();\n    }\n  }\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ky_one_map_vue__ = __webpack_require__(2);\n // 导入组件\nvar oneMap = {\n    install: function install(Vue, options) {\n        Vue.component(__WEBPACK_IMPORTED_MODULE_0__ky_one_map_vue__[\"a\" /* default */].name, __WEBPACK_IMPORTED_MODULE_0__ky_one_map_vue__[\"a\" /* default */]); // vuePayKeyboard.name 组件的name属性\n        // 类似通过 this.$xxx 方式调用插件的 其实只是挂载到原型上而已\n        // Vue.prototype.$xxx  // 最终可以在任何地方通过 this.$xxx 调用\n        // 虽然没有明确规定用$开头  但是大家都默认遵守这个规定\n    }\n};\nif (typeof window !== 'undefined' && window.Vue) {\n    window.Vue.use(oneMap);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (oneMap); // 导出..\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ky_one_map_vue__ = __webpack_require__(0);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c8cf2010_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ky_one_map_vue__ = __webpack_require__(10);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(3)\n}\nvar normalizeComponent = __webpack_require__(8)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c8cf2010\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ky_one_map_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c8cf2010_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ky_one_map_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(4);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(6)(\"7bb7b7a2\", content, true, {});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#map__container[data-v-c8cf2010]{width:100%;height:calc(100vh - 140px)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = __webpack_require__(7)\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (global, factory) {\n\t true ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.esriLoader = global.esriLoader || {})));\n}(this, (function (exports) { 'use strict';\n\n/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nvar isBrowser = typeof window !== 'undefined';\n// allow consuming libraries to provide their own Promise implementations\nvar utils = {\n    Promise: isBrowser ? window['Promise'] : undefined\n};\n\n/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nvar DEFAULT_VERSION = '4.18';\nvar NEXT = 'next';\nfunction parseVersion(version) {\n    if (version.toLowerCase() === NEXT) {\n        return NEXT;\n    }\n    var match = version && version.match(/^(\\d)\\.(\\d+)/);\n    return match && {\n        major: parseInt(match[1], 10),\n        minor: parseInt(match[2], 10)\n    };\n}\n/**\n * Get the CDN url for a given version\n *\n * @param version Ex: '4.18' or '3.35'. Defaults to the latest 4.x version.\n */\nfunction getCdnUrl(version) {\n    if (version === void 0) { version = DEFAULT_VERSION; }\n    return \"https://js.arcgis.com/\" + version + \"/\";\n}\n/**\n * Get the CDN url for a the CSS for a given version and/or theme\n *\n * @param version Ex: '4.18', '3.35', or 'next'. Defaults to the latest 4.x version.\n */\nfunction getCdnCssUrl(version) {\n    if (version === void 0) { version = DEFAULT_VERSION; }\n    var baseUrl = getCdnUrl(version);\n    var parsedVersion = parseVersion(version);\n    if (parsedVersion !== NEXT && parsedVersion.major === 3) {\n        // NOTE: at 3.11 the CSS moved from the /js folder to the root\n        var path = parsedVersion.minor <= 10 ? 'js/' : '';\n        return \"\" + baseUrl + path + \"esri/css/esri.css\";\n    }\n    else {\n        // assume 4.x\n        return baseUrl + \"esri/themes/light/main.css\";\n    }\n}\n\n/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nfunction createStylesheetLink(href) {\n    var link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = href;\n    return link;\n}\nfunction insertLink(link, before) {\n    if (before) {\n        // the link should be inserted before a specific node\n        var beforeNode = document.querySelector(before);\n        beforeNode.parentNode.insertBefore(link, beforeNode);\n    }\n    else {\n        // append the link to then end of the head tag\n        document.head.appendChild(link);\n    }\n}\n// check if the css url has been injected or added manually\nfunction getCss(url) {\n    return document.querySelector(\"link[href*=\\\"\" + url + \"\\\"]\");\n}\nfunction getCssUrl(urlOrVersion) {\n    return !urlOrVersion || parseVersion(urlOrVersion)\n        // if it's a valid version string return the CDN URL\n        ? getCdnCssUrl(urlOrVersion)\n        // otherwise assume it's a URL and return that\n        : urlOrVersion;\n}\n// lazy load the CSS needed for the ArcGIS API\nfunction loadCss(urlOrVersion, before) {\n    var url = getCssUrl(urlOrVersion);\n    var link = getCss(url);\n    if (!link) {\n        // create & load the css link\n        link = createStylesheetLink(url);\n        insertLink(link, before);\n    }\n    return link;\n}\n\n/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nvar defaultOptions = {};\nfunction createScript(url) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    script.setAttribute('data-esri-loader', 'loading');\n    return script;\n}\n// add a one-time load handler to script\n// and optionally add a one time error handler as well\nfunction handleScriptLoad(script, callback, errback) {\n    var onScriptError;\n    if (errback) {\n        // set up an error handler as well\n        onScriptError = handleScriptError(script, errback);\n    }\n    var onScriptLoad = function () {\n        // pass the script to the callback\n        callback(script);\n        // remove this event listener\n        script.removeEventListener('load', onScriptLoad, false);\n        if (onScriptError) {\n            // remove the error listener as well\n            script.removeEventListener('error', onScriptError, false);\n        }\n    };\n    script.addEventListener('load', onScriptLoad, false);\n}\n// add a one-time error handler to the script\nfunction handleScriptError(script, callback) {\n    var onScriptError = function (e) {\n        // reject the promise and remove this event listener\n        callback(e.error || new Error(\"There was an error attempting to load \" + script.src));\n        // remove this event listener\n        script.removeEventListener('error', onScriptError, false);\n    };\n    script.addEventListener('error', onScriptError, false);\n    return onScriptError;\n}\n// allow the user to configure default script options rather than passing options to `loadModules` each time\nfunction setDefaultOptions(options) {\n    if (options === void 0) { options = {}; }\n    defaultOptions = options;\n}\n// get the script injected by this library\nfunction getScript() {\n    return document.querySelector('script[data-esri-loader]');\n}\n// has ArcGIS API been loaded on the page yet?\nfunction isLoaded() {\n    var globalRequire = window['require'];\n    // .on() ensures that it's Dojo's AMD loader\n    return globalRequire && globalRequire.on;\n}\n// load the ArcGIS API on the page\nfunction loadScript(options) {\n    if (options === void 0) { options = {}; }\n    // we would have liked to use spread like { ...defaultOptions, ...options }\n    // but TS would inject a polyfill that would require use to configure rollup w content: 'window'\n    // if we have another occasion to use spread, let's do that and replace this for...in\n    var opts = {};\n    [defaultOptions, options].forEach(function (obj) {\n        for (var prop in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                opts[prop] = obj[prop];\n            }\n        }\n    });\n    // URL to load\n    var version = opts.version;\n    var url = opts.url || getCdnUrl(version);\n    return new utils.Promise(function (resolve, reject) {\n        var script = getScript();\n        if (script) {\n            // the API is already loaded or in the process of loading...\n            // NOTE: have to test against scr attribute value, not script.src\n            // b/c the latter will return the full url for relative paths\n            var src = script.getAttribute('src');\n            if (src !== url) {\n                // potentially trying to load a different version of the API\n                reject(new Error(\"The ArcGIS API for JavaScript is already loaded (\" + src + \").\"));\n            }\n            else {\n                if (isLoaded()) {\n                    // the script has already successfully loaded\n                    resolve(script);\n                }\n                else {\n                    // wait for the script to load and then resolve\n                    handleScriptLoad(script, resolve, reject);\n                }\n            }\n        }\n        else {\n            if (isLoaded()) {\n                // the API has been loaded by some other means\n                // potentially trying to load a different version of the API\n                reject(new Error(\"The ArcGIS API for JavaScript is already loaded.\"));\n            }\n            else {\n                // this is the first time attempting to load the API\n                var css = opts.css;\n                if (css) {\n                    var useVersion = css === true;\n                    // load the css before loading the script\n                    loadCss(useVersion ? version : css, opts.insertCssBefore);\n                }\n                // create a script object whose source points to the API\n                script = createScript(url);\n                // _currentUrl = url;\n                // once the script is loaded...\n                handleScriptLoad(script, function () {\n                    // update the status of the script\n                    script.setAttribute('data-esri-loader', 'loaded');\n                    // return the script\n                    resolve(script);\n                }, reject);\n                // load the script\n                document.body.appendChild(script);\n            }\n        }\n    });\n}\n\n/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n// wrap Dojo's require() in a promise\nfunction requireModules(modules) {\n    return new utils.Promise(function (resolve, reject) {\n        // If something goes wrong loading the esri/dojo scripts, reject with the error.\n        var errorHandler = window['require'].on('error', reject);\n        window['require'](modules, function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            // remove error handler\n            errorHandler.remove();\n            // Resolve with the parameters from dojo require as an array.\n            resolve(args);\n        });\n    });\n}\n// returns a promise that resolves with an array of the required modules\n// also will attempt to lazy load the ArcGIS API if it has not already been loaded\nfunction loadModules(modules, loadScriptOptions) {\n    if (loadScriptOptions === void 0) { loadScriptOptions = {}; }\n    if (!isLoaded()) {\n        // script is not yet loaded, is it in the process of loading?\n        var script = getScript();\n        var src = script && script.getAttribute('src');\n        if (!loadScriptOptions.url && src) {\n            // script is still loading and user did not specify a URL\n            // in this case we want to default to the URL that's being loaded\n            // instead of defaulting to the latest 4.x URL\n            loadScriptOptions.url = src;\n        }\n        // attempt to load the script then load the modules\n        return loadScript(loadScriptOptions).then(function () { return requireModules(modules); });\n    }\n    else {\n        // script is already loaded, just load the modules\n        return requireModules(modules);\n    }\n}\n\n/*\n  Copyright (c) 2017 Esri\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n    http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n*/\n// re-export the functions that are part of the public API\n\nexports.utils = utils;\nexports.loadModules = loadModules;\nexports.getScript = getScript;\nexports.isLoaded = isLoaded;\nexports.loadScript = loadScript;\nexports.setDefaultOptions = setDefaultOptions;\nexports.loadCss = loadCss;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=esri-loader.js.map\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"map__container\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// ky-one-map.js","<template>\r\n  <div id=\"map__container\"></div>\r\n</template>\r\n<script>\r\nimport { loadModules } from \"esri-loader\";\r\nexport default {\r\n  name: \"ky-map\",\r\n  data() {\r\n    return {\r\n      map: {},\r\n      mapView: {},\r\n      oneMap: {},\r\n      clickMap: new Map(),\r\n      mouseoverMap: new Map(),\r\n      varSetTimeout: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    var _that = this;\r\n    const options = {\r\n      url:\r\n        \"http://118.89.18.66/arcgis/arcgis_js_v417_api/arcgis_js_api/library/4.17/init.js\",\r\n      css:\r\n        \"http://118.89.18.66/arcgis/arcgis_js_v417_api/arcgis_js_api/library/4.17/esri/css/main.css\",\r\n    };\r\n    loadModules(\r\n      [\r\n        \"esri/Map\",\r\n        \"esri/views/MapView\",\r\n        \"esri/layers/WebTileLayer\",\r\n        \"esri/layers/FeatureLayer\",\r\n        \"esri/layers/TileLayer\",\r\n        \"esri/layers/MapImageLayer\",\r\n        \"esri/layers/VectorTileLayer\",\r\n        \"esri/layers/GeoJSONLayer\",\r\n        \"esri/layers/GraphicsLayer\",\r\n        \"esri/Graphic\",\r\n        \"esri/geometry/Point\",\r\n        \"esri/symbols/PictureMarkerSymbol\",\r\n        \"esri/symbols/TextSymbol\",\r\n        \"esri/tasks/IdentifyTask\",\r\n        \"esri/tasks/support/IdentifyParameters\",\r\n        \"esri/geometry/geometryEngine\",\r\n        \"esri/tasks/support/Query\",\r\n      ],\r\n      options,\r\n      {\r\n        css: true,\r\n      }\r\n    ).then(\r\n      ([\r\n        esriMap,\r\n        MapView,\r\n        WebTileLayer,\r\n        FeatureLayer,\r\n        TileLayer,\r\n        MapImageLayer,\r\n        VectorTileLayer,\r\n        GeoJSONLayer,\r\n        GraphicsLayer,\r\n        Graphic,\r\n        Point,\r\n        PictureMarkerSymbol,\r\n        TextSymbol,\r\n        IdentifyTask,\r\n        IdentifyParameters,\r\n        geometryEngine,\r\n        Query,\r\n      ]) => {\r\n        var tiandituBaseUrl = \"http://{subDomain}.tianditu.gov.cn\"; //天地图服务地址\r\n        var token = \"5630174b76350ef58bc5a615a890a46a\"; //天地图token\r\n        _that.map = new esriMap({});\r\n        _that.mapView = new MapView({\r\n          container: this.$el,\r\n          map: _that.map,\r\n          center: [117.938, 26.127],\r\n          zoom: 8,\r\n        });\r\n        //影像地图(球面墨卡托投影)\r\n        var tiledLayer = new WebTileLayer({\r\n          urlTemplate:\r\n            tiandituBaseUrl +\r\n            \"/img_w/wmts?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetTile&LAYER=img&STYLE=default&FORMAT=tiles&TILEMATRIXSET=w&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}&tk=\" +\r\n            token,\r\n          subDomains: [\"t0\", \"t1\", \"t2\", \"t3\", \"t4\", \"t5\", \"t6\", \"t7\"],\r\n        });\r\n        //影像注记(球面墨卡托投影)\r\n        var tiledLayerAnno = new WebTileLayer({\r\n          urlTemplate:\r\n            tiandituBaseUrl +\r\n            \"/cia_w/wmts?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetTile&LAYER=cia&STYLE=default&FORMAT=tiles&TILEMATRIXSET=w&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}&tk=\" +\r\n            token,\r\n          subDomains: [\"t0\", \"t1\", \"t2\", \"t3\", \"t4\", \"t5\", \"t6\", \"t7\"],\r\n        });\r\n        var cityBoundry = new MapImageLayer({\r\n          url:\r\n            \"http://120.79.6.214:6080/arcgis/rest/services/SXYfjxzjx/MapServer\",\r\n          sublayers: [\r\n            {\r\n              id: 3,\r\n              visible: false,\r\n            },\r\n            {\r\n              id: 2,\r\n              visible: true,\r\n            },\r\n            {\r\n              id: 1,\r\n              visible: false,\r\n            },\r\n            {\r\n              id: 0,\r\n              visible: false,\r\n            },\r\n            {\r\n              id: 4,\r\n              visible: false,\r\n            },\r\n          ],\r\n        });\r\n\r\n        _that.oneMap = {\r\n          zoom: \"7\",\r\n          addLayer(layerType, options) {\r\n            options = Object.assign(\r\n              {\r\n                url: \"\",\r\n                opacity: 1,\r\n                id: Math.random().toString(36).substr(4),\r\n                outFields: [\"*\"],\r\n              },\r\n              options || {}\r\n            );\r\n            return this.addLayerMethod.get(layerType)(options);\r\n          },\r\n          removeLayer(layerId) {\r\n            var layer = _that.map.findLayerById(layerId);\r\n            if (_that.clickMap.has(layerId)) {\r\n              _that.clickMap.delete(layerId);\r\n            }\r\n            if (_that.mouseoverMap.has(layerId)) {\r\n              _that.mouseoverMap.delete(layerId);\r\n            }\r\n            _that.map.remove(layer);\r\n          },\r\n          addLayerMethod: new Map([\r\n            [\r\n              \"MapImageLayer\",\r\n              (options) => {\r\n                var layer = new MapImageLayer(options);\r\n\r\n                options.layerIndex\r\n                  ? _that.map.add(layer, options.layerIndex)\r\n                  : _that.map.add(layer);\r\n                if (options.onClick && typeof options.onClick == \"function\") {\r\n                }\r\n                if (\r\n                  options.onMouseover &&\r\n                  typeof options.onMouseover == \"function\"\r\n                ) {\r\n                  _that.mouseoverMap.set(options.id, options.onMouseover);\r\n                }\r\n                if (options.toFullExtent) {\r\n                  layer.when(function () {\r\n                    layer.fullExtent.spatialReference = {\r\n                      wkid: 4326,\r\n                    };\r\n                    _that.mapview.goTo(layer.fullExtent.expand(1.7));\r\n                  });\r\n                }\r\n                return layer;\r\n              },\r\n            ],\r\n            [\r\n              \"FeatureLayer\",\r\n              (options) => {\r\n                var layer = new FeatureLayer(options);\r\n                options.layerIndex\r\n                  ? _that.map.add(layer, options.layerIndex)\r\n                  : _that.map.add(layer);\r\n                if (options.onClick && typeof options.onClick == \"function\") {\r\n                  _that.clickMap.set(options.id, options.onClick);\r\n                }\r\n                if (\r\n                  options.onMouseover &&\r\n                  typeof options.onMouseover == \"function\"\r\n                ) {\r\n                  _that.mouseoverMap.set(options.id, options.onMouseover);\r\n                }\r\n                return layer;\r\n              },\r\n            ],\r\n            [\r\n              \"PointLayer\",\r\n              (options) => {\r\n                var layer = new GraphicsLayer({\r\n                  opacity: 1,\r\n                  id: options.id,\r\n                });\r\n                var defaultLonField = options.lonField\r\n                    ? options.lonField\r\n                    : \"lon\",\r\n                  defaultLatField = options.latField ? options.latField : \"lat\";\r\n                for (let i = 0; i < options.data.length; i++) {\r\n                  var point = new Point({\r\n                    spatialReference: 4326,\r\n                    x: options.data[i][defaultLonField],\r\n                    y: options.data[i][defaultLatField],\r\n                  });\r\n                  var symbol = {\r\n                    type: \"simple-marker\",\r\n                    color: [226, 119, 40],\r\n                    outline: {\r\n                      color: [255, 255, 255],\r\n                      width: 2,\r\n                    },\r\n                  };\r\n                  if (options.data[i].symbol) {\r\n                    symbol = _that.oneMap.symbol(options.data[i].symbol);\r\n                  } else if (options.symbol) {\r\n                    symbol = _that.oneMap.symbol(options.symbol);\r\n                  }\r\n                  if (options.data[i].label) {\r\n                    var textPoint = new Point({\r\n                      spatialReference: 4326,\r\n                      x: options.data[i][defaultLonField],\r\n                      y: options.data[i][defaultLatField],\r\n                    });\r\n                    var textSymbol = _that.oneMap.symbol(options.data[i].label);\r\n                    var textGraphic = new Graphic(textPoint, textSymbol);\r\n                    layer.add(textGraphic);\r\n                  }\r\n                  var graphic = new Graphic(point, symbol, options.data[i]);\r\n\r\n                  layer.add(graphic);\r\n                }\r\n                options.layerIndex\r\n                  ? _that.map.add(layer, options.layerIndex)\r\n                  : _that.map.add(layer);\r\n                if (options.onClick && typeof options.onClick == \"function\") {\r\n                  _that.clickMap.set(options.id, options.onClick);\r\n                }\r\n                if (\r\n                  options.onMouseover &&\r\n                  typeof options.onMouseover == \"function\"\r\n                ) {\r\n                  _that.mouseoverMap.set(options.id, options.onMouseover);\r\n                }\r\n\r\n                return layer;\r\n              },\r\n            ],\r\n            [\r\n              \"simplePointLayer\",\r\n              (options) => {\r\n                var point = new Point({\r\n                  spatialReference: 4326,\r\n                  x: options.lon,\r\n                  y: options.lat,\r\n                });\r\n\r\n                return point;\r\n              },\r\n            ],\r\n            [\r\n              \"VectorTileLayer\",\r\n              (options) => {\r\n                var layer = new VectorTileLayer(options);\r\n                options.layerIndex\r\n                  ? _that.map.add(layer, options.layerIndex)\r\n                  : _that.map.add(layer);\r\n                return layer;\r\n              },\r\n            ],\r\n          ]),\r\n          symbol(options) {\r\n            return this.symbolMethod.get(options.type)(options);\r\n          },\r\n          symbolMethod: new Map([\r\n            [\r\n              \"PictureMarkerSymbol\",\r\n              (options) => {\r\n                return {\r\n                  type: \"picture-marker\",\r\n                  url: options.url,\r\n                  width: options.width,\r\n                  height: options.height,\r\n                };\r\n                return new PictureMarkerSymbol(\r\n                  options.url,\r\n                  options.width,\r\n                  options.height\r\n                );\r\n              },\r\n            ],\r\n            [\r\n              \"TextSymbol\",\r\n              (options) => {\r\n                return {\r\n                  type: \"text\", // autocasts as new TextSymbol()\r\n                  color: \"#000\",\r\n                  haloColor: \"#fff\",\r\n                  haloSize: \"2px\",\r\n                  text: options.text,\r\n                  xoffset: options.offsetX ? options.offsetX : 3,\r\n                  yoffset: options.offsetY ? options.offsetY : -20,\r\n                  font: {\r\n                    // autocasts as new Font()\r\n                    size: options.fontSize ? options.fontSize : 10,\r\n                    family: \"Josefin Slab\",\r\n                    weight: \"bold\",\r\n                  },\r\n                };\r\n                return new PictureMarkerSymbol(\r\n                  options.url,\r\n                  options.width,\r\n                  options.height\r\n                );\r\n              },\r\n            ],\r\n            [\r\n              \"SimpleMarkerSymbol\",\r\n              () => {\r\n                return {\r\n                  type: \"simple\",\r\n                  symbol: {\r\n                    type: \"simple-marker\",\r\n                    size: 3,\r\n                    color: \"white\",\r\n                    style: \"circle\",\r\n                    outline: {\r\n                      width: 0.5,\r\n                      color: \"gray\",\r\n                    },\r\n                  },\r\n                };\r\n              },\r\n            ],\r\n            [\r\n              \"SimpleFillSymbol\",\r\n              () => {\r\n                return {\r\n                  type: \"simple\",\r\n                  symbol: {\r\n                    type: \"simple-fill\",\r\n                    style: \"none\",\r\n                    outline: {\r\n                      width: 0.5,\r\n                      color: \"gray\",\r\n                    },\r\n                  },\r\n                };\r\n              },\r\n            ],\r\n            [\r\n              \"SimpleLineSymbol\",\r\n              () => {\r\n                return {\r\n                  type: \"simple\",\r\n                  symbol: {\r\n                    type: \"simple-line\",\r\n                    style: \"none\",\r\n                    width: 0.7,\r\n                    color: \"white\",\r\n                  },\r\n                };\r\n              },\r\n            ],\r\n            [\r\n              \"FeatureLayerPictureMarkerSymbol\",\r\n              (options) => {\r\n                return {\r\n                  type: \"simple\",\r\n                  symbol: {\r\n                    type: \"picture-marker\",\r\n                    url: options.url,\r\n                    width: options.width,\r\n                    height: options.height,\r\n                  },\r\n                };\r\n              },\r\n            ],\r\n          ]),\r\n          IdentifyTaskQuery(options, callback) {\r\n            var identifyTask = new IdentifyTask(options.url);\r\n            var params = new IdentifyParameters();\r\n            params.tolerance = 3;\r\n            params.returnGeometry = true;\r\n            params.layerIds = options.layerIds;\r\n            params.layerOption = \"top\";\r\n            params.width = _that.mapView.width;\r\n            params.height = _that.mapView.height;\r\n            params.geometry = options.evt.mapPoint;\r\n            params.mapExtent = _that.mapView.extent;\r\n\r\n            identifyTask\r\n              .execute(params)\r\n              .then((response) => {\r\n                callback(response.results);\r\n              })\r\n              .then(() => {});\r\n          },\r\n          /**根据经纬度生成缓冲区\r\n           *\r\n           * buffer(geometry, distance, unit, unionResults)\r\n           * \"meters\"|\"feet\"|\"kilometers\"|\"miles\"|\"nautical-miles\"|\"yards\"\r\n           * */\r\n          createBuffer(options) {\r\n            var geometry = null;\r\n            var bufferGraphic = null;\r\n            var layer = new GraphicsLayer({\r\n              opacity: 1,\r\n              id: options.id\r\n                ? options.id\r\n                : Math.random().toString(36).substr(4),\r\n            });\r\n            if (options.geometryType == \"point\") {\r\n              geometry = new Point({\r\n                spatialReference: 4326,\r\n                x: options.data.longitude,\r\n                y: options.data.latitude,\r\n              });\r\n            }\r\n\r\n            var buff = geometryEngine.geodesicBuffer(\r\n              geometry,\r\n              options.distance,\r\n              options.unit\r\n            );\r\n\r\n            bufferGraphic = new Graphic({\r\n              geometry: buff,\r\n              symbol: {\r\n                type: \"simple-fill\",\r\n                color: [226, 119, 40, 0.3],\r\n                outline: {\r\n                  width: 1.5,\r\n                  color: [255, 128, 0, 0.5],\r\n                },\r\n              },\r\n            });\r\n            layer.add(bufferGraphic);\r\n            map.add(layer);\r\n            map.reorder(layer, 1);\r\n            return layer;\r\n          },\r\n          //mapServer服务地址转换为FeatureServer\r\n          mapServerToFeatureServer(url) {\r\n            var urlArr = url.split(\"/\");\r\n            urlArr.splice(urlArr.length - 1, 1);\r\n            urlArr.push(\"FeatureServer\", \"0\");\r\n            return urlArr.join(\"/\");\r\n          },\r\n          // MapServer转换为FeatureServer 查询定位extent\r\n          mapImageLayerToExtent(url, where = \"1=1\") {\r\n            var joinUrl = this.mapServerToFeatureServer(url);\r\n            const tempLayer = new FeatureLayer({\r\n              url: joinUrl,\r\n            });\r\n            const query = new Query();\r\n            query.where = where;\r\n            tempLayer.queryExtent(query).then(function (results) {\r\n              if (results.count == 0) return;\r\n              var tempExtent = results.extent;\r\n              tempExtent.spatialReference = {\r\n                wkid: 4326,\r\n              };\r\n              _that.mapView.goTo(tempExtent.expand(1.7));\r\n            });\r\n          },\r\n          //根据经纬度以及zoom定位\r\n          mapToCenter(options) {\r\n            var point = new Point({\r\n              spatialReference: 4326,\r\n              x: options.x,\r\n              y: options.y,\r\n            });\r\n            _that.mapView.goTo(\r\n              {\r\n                target: point,\r\n                zoom: options.zoom,\r\n              },\r\n              {\r\n                duration: 700,\r\n              }\r\n            );\r\n          },\r\n          setMapZoom(option) {\r\n            _that.mapView.goTo(\r\n              {\r\n                zoom: option.zoom,\r\n              },\r\n              {\r\n                duration: 700,\r\n              }\r\n            );\r\n            // _that.mapView.zoom = zoom;\r\n          },\r\n        };\r\n        _that.map.add(tiledLayer);\r\n        _that.map.add(tiledLayerAnno);\r\n        _that.map.add(cityBoundry);\r\n\r\n        _that.mapView.ui.components = [];\r\n        _that.$store.commit(\"SET_ONEMAP\", _that.oneMap);\r\n        _that.$store.commit(\"SET_MAP\", _that.map);\r\n        _that.$store.commit(\"SET_MAPVIEW\", _that.mapView);\r\n        _that.$emit(\"done\");\r\n\r\n        /**此方法只支持如下图层GraphicsLayer, FeatureLayer, SceneLayer,\r\n         * BuildingSceneLayer, PointCloudLayer, CSVLayer,\r\n         * StreamLayer, GeoJSONLayer and SceneView.graphics. **/\r\n        // _that.mapView.watch(\"zoom\", function () {\r\n        //   _that.oneMap.zoom = _that.mapView.zoom;\r\n        //   console.log(_that.mapView.zoom);\r\n        // });\r\n        _that.mapView.on(\"pointer-move\", (evt) => {\r\n          _that.mapView.hitTest(evt).then(function (event) {\r\n            if (event.results.length) {\r\n              var result = event.results[0];\r\n              if (\r\n                typeof _that.mouseoverMap.get(result.graphic.layer.id) !=\r\n                \"undefined\"\r\n              ) {\r\n                _that.mouseoverMap.get(result.graphic.layer.id)(result);\r\n              }\r\n            }\r\n          });\r\n        });\r\n\r\n        _that.mapView.on(\"click\", (evt) => {\r\n          _that.mapView.hitTest(evt).then(function (event) {\r\n            if (event.results.length) {\r\n              var result = event.results[0];\r\n              if (\r\n                typeof _that.clickMap.get(result.graphic.layer.id) !=\r\n                \"undefined\"\r\n              ) {\r\n                _that.clickMap.get(result.graphic.layer.id)(result);\r\n              }\r\n            }\r\n          });\r\n        });\r\n\r\n        _that.mapView.watch(\"extent\", (evt) => {\r\n          _that.mapView.center.longitude;\r\n          _that.mapView.center.latitude;\r\n          console.log(_that.mapView.center.longitude);\r\n          console.log(_that.mapView.center.latitude);\r\n        });\r\n      }\r\n    );\r\n  },\r\n  mounted() {},\r\n  beforeUnmount() {\r\n    if (this.view) {\r\n      this.view.destroy();\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n#map__container {\r\n  /* position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 1; */\r\n  width: 100%;\r\n  height: calc(100vh - 140px);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/lib/ky-one-map.vue","import kyOneMap from './ky-one-map.vue' // 导入组件\r\nconst oneMap = {\r\n    install (Vue, options) {\r\n        Vue.component(kyOneMap.name, kyOneMap)  // vuePayKeyboard.name 组件的name属性\r\n       // 类似通过 this.$xxx 方式调用插件的 其实只是挂载到原型上而已\r\n       // Vue.prototype.$xxx  // 最终可以在任何地方通过 this.$xxx 调用\r\n       // 虽然没有明确规定用$开头  但是大家都默认遵守这个规定\r\n    }\r\n}\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n    window.Vue.use(oneMap);\r\n}\r\nexport default oneMap // 导出..\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/index.js","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c8cf2010\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ky-one-map.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ky-one-map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ky-one-map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c8cf2010\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ky-one-map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c8cf2010\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/ky-one-map.vue\n// module id = 2\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c8cf2010\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ky-one-map.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"7bb7b7a2\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c8cf2010\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/lib/ky-one-map.vue\n// module id = 3\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#map__container[data-v-c8cf2010]{width:100%;height:calc(100vh - 140px)}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c8cf2010\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/lib/ky-one-map.vue\n// module id = 4\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 5\n// module chunks = 0","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = require('./listToStyles')\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader/lib/addStylesClient.js\n// module id = 6\n// module chunks = 0","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader/lib/listToStyles.js\n// module id = 7\n// module chunks = 0","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/component-normalizer.js\n// module id = 8\n// module chunks = 0","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.esriLoader = global.esriLoader || {})));\n}(this, (function (exports) { 'use strict';\n\n/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nvar isBrowser = typeof window !== 'undefined';\n// allow consuming libraries to provide their own Promise implementations\nvar utils = {\n    Promise: isBrowser ? window['Promise'] : undefined\n};\n\n/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nvar DEFAULT_VERSION = '4.18';\nvar NEXT = 'next';\nfunction parseVersion(version) {\n    if (version.toLowerCase() === NEXT) {\n        return NEXT;\n    }\n    var match = version && version.match(/^(\\d)\\.(\\d+)/);\n    return match && {\n        major: parseInt(match[1], 10),\n        minor: parseInt(match[2], 10)\n    };\n}\n/**\n * Get the CDN url for a given version\n *\n * @param version Ex: '4.18' or '3.35'. Defaults to the latest 4.x version.\n */\nfunction getCdnUrl(version) {\n    if (version === void 0) { version = DEFAULT_VERSION; }\n    return \"https://js.arcgis.com/\" + version + \"/\";\n}\n/**\n * Get the CDN url for a the CSS for a given version and/or theme\n *\n * @param version Ex: '4.18', '3.35', or 'next'. Defaults to the latest 4.x version.\n */\nfunction getCdnCssUrl(version) {\n    if (version === void 0) { version = DEFAULT_VERSION; }\n    var baseUrl = getCdnUrl(version);\n    var parsedVersion = parseVersion(version);\n    if (parsedVersion !== NEXT && parsedVersion.major === 3) {\n        // NOTE: at 3.11 the CSS moved from the /js folder to the root\n        var path = parsedVersion.minor <= 10 ? 'js/' : '';\n        return \"\" + baseUrl + path + \"esri/css/esri.css\";\n    }\n    else {\n        // assume 4.x\n        return baseUrl + \"esri/themes/light/main.css\";\n    }\n}\n\n/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nfunction createStylesheetLink(href) {\n    var link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = href;\n    return link;\n}\nfunction insertLink(link, before) {\n    if (before) {\n        // the link should be inserted before a specific node\n        var beforeNode = document.querySelector(before);\n        beforeNode.parentNode.insertBefore(link, beforeNode);\n    }\n    else {\n        // append the link to then end of the head tag\n        document.head.appendChild(link);\n    }\n}\n// check if the css url has been injected or added manually\nfunction getCss(url) {\n    return document.querySelector(\"link[href*=\\\"\" + url + \"\\\"]\");\n}\nfunction getCssUrl(urlOrVersion) {\n    return !urlOrVersion || parseVersion(urlOrVersion)\n        // if it's a valid version string return the CDN URL\n        ? getCdnCssUrl(urlOrVersion)\n        // otherwise assume it's a URL and return that\n        : urlOrVersion;\n}\n// lazy load the CSS needed for the ArcGIS API\nfunction loadCss(urlOrVersion, before) {\n    var url = getCssUrl(urlOrVersion);\n    var link = getCss(url);\n    if (!link) {\n        // create & load the css link\n        link = createStylesheetLink(url);\n        insertLink(link, before);\n    }\n    return link;\n}\n\n/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nvar defaultOptions = {};\nfunction createScript(url) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    script.setAttribute('data-esri-loader', 'loading');\n    return script;\n}\n// add a one-time load handler to script\n// and optionally add a one time error handler as well\nfunction handleScriptLoad(script, callback, errback) {\n    var onScriptError;\n    if (errback) {\n        // set up an error handler as well\n        onScriptError = handleScriptError(script, errback);\n    }\n    var onScriptLoad = function () {\n        // pass the script to the callback\n        callback(script);\n        // remove this event listener\n        script.removeEventListener('load', onScriptLoad, false);\n        if (onScriptError) {\n            // remove the error listener as well\n            script.removeEventListener('error', onScriptError, false);\n        }\n    };\n    script.addEventListener('load', onScriptLoad, false);\n}\n// add a one-time error handler to the script\nfunction handleScriptError(script, callback) {\n    var onScriptError = function (e) {\n        // reject the promise and remove this event listener\n        callback(e.error || new Error(\"There was an error attempting to load \" + script.src));\n        // remove this event listener\n        script.removeEventListener('error', onScriptError, false);\n    };\n    script.addEventListener('error', onScriptError, false);\n    return onScriptError;\n}\n// allow the user to configure default script options rather than passing options to `loadModules` each time\nfunction setDefaultOptions(options) {\n    if (options === void 0) { options = {}; }\n    defaultOptions = options;\n}\n// get the script injected by this library\nfunction getScript() {\n    return document.querySelector('script[data-esri-loader]');\n}\n// has ArcGIS API been loaded on the page yet?\nfunction isLoaded() {\n    var globalRequire = window['require'];\n    // .on() ensures that it's Dojo's AMD loader\n    return globalRequire && globalRequire.on;\n}\n// load the ArcGIS API on the page\nfunction loadScript(options) {\n    if (options === void 0) { options = {}; }\n    // we would have liked to use spread like { ...defaultOptions, ...options }\n    // but TS would inject a polyfill that would require use to configure rollup w content: 'window'\n    // if we have another occasion to use spread, let's do that and replace this for...in\n    var opts = {};\n    [defaultOptions, options].forEach(function (obj) {\n        for (var prop in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                opts[prop] = obj[prop];\n            }\n        }\n    });\n    // URL to load\n    var version = opts.version;\n    var url = opts.url || getCdnUrl(version);\n    return new utils.Promise(function (resolve, reject) {\n        var script = getScript();\n        if (script) {\n            // the API is already loaded or in the process of loading...\n            // NOTE: have to test against scr attribute value, not script.src\n            // b/c the latter will return the full url for relative paths\n            var src = script.getAttribute('src');\n            if (src !== url) {\n                // potentially trying to load a different version of the API\n                reject(new Error(\"The ArcGIS API for JavaScript is already loaded (\" + src + \").\"));\n            }\n            else {\n                if (isLoaded()) {\n                    // the script has already successfully loaded\n                    resolve(script);\n                }\n                else {\n                    // wait for the script to load and then resolve\n                    handleScriptLoad(script, resolve, reject);\n                }\n            }\n        }\n        else {\n            if (isLoaded()) {\n                // the API has been loaded by some other means\n                // potentially trying to load a different version of the API\n                reject(new Error(\"The ArcGIS API for JavaScript is already loaded.\"));\n            }\n            else {\n                // this is the first time attempting to load the API\n                var css = opts.css;\n                if (css) {\n                    var useVersion = css === true;\n                    // load the css before loading the script\n                    loadCss(useVersion ? version : css, opts.insertCssBefore);\n                }\n                // create a script object whose source points to the API\n                script = createScript(url);\n                // _currentUrl = url;\n                // once the script is loaded...\n                handleScriptLoad(script, function () {\n                    // update the status of the script\n                    script.setAttribute('data-esri-loader', 'loaded');\n                    // return the script\n                    resolve(script);\n                }, reject);\n                // load the script\n                document.body.appendChild(script);\n            }\n        }\n    });\n}\n\n/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n// wrap Dojo's require() in a promise\nfunction requireModules(modules) {\n    return new utils.Promise(function (resolve, reject) {\n        // If something goes wrong loading the esri/dojo scripts, reject with the error.\n        var errorHandler = window['require'].on('error', reject);\n        window['require'](modules, function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            // remove error handler\n            errorHandler.remove();\n            // Resolve with the parameters from dojo require as an array.\n            resolve(args);\n        });\n    });\n}\n// returns a promise that resolves with an array of the required modules\n// also will attempt to lazy load the ArcGIS API if it has not already been loaded\nfunction loadModules(modules, loadScriptOptions) {\n    if (loadScriptOptions === void 0) { loadScriptOptions = {}; }\n    if (!isLoaded()) {\n        // script is not yet loaded, is it in the process of loading?\n        var script = getScript();\n        var src = script && script.getAttribute('src');\n        if (!loadScriptOptions.url && src) {\n            // script is still loading and user did not specify a URL\n            // in this case we want to default to the URL that's being loaded\n            // instead of defaulting to the latest 4.x URL\n            loadScriptOptions.url = src;\n        }\n        // attempt to load the script then load the modules\n        return loadScript(loadScriptOptions).then(function () { return requireModules(modules); });\n    }\n    else {\n        // script is already loaded, just load the modules\n        return requireModules(modules);\n    }\n}\n\n/*\n  Copyright (c) 2017 Esri\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n    http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n*/\n// re-export the functions that are part of the public API\n\nexports.utils = utils;\nexports.loadModules = loadModules;\nexports.getScript = getScript;\nexports.isLoaded = isLoaded;\nexports.loadScript = loadScript;\nexports.setDefaultOptions = setDefaultOptions;\nexports.loadCss = loadCss;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=esri-loader.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/esri-loader/dist/umd/esri-loader.js\n// module id = 9\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"map__container\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c8cf2010\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/lib/ky-one-map.vue\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}